<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Regression Analysis</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/regression.css">
    <link rel="stylesheet" href="/css/sidebars.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="/index.html" class="home-link">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <div class="nav-title">Regression Analysis</div>
    </nav>

    <!-- Data Selection and Scatter Plot -->
    <div class="data-scatter-container">
        <!-- Data Selection Panel -->
        <div class="data-selection-panel">
            <div class="data-selection-title">Data Selection</div>
            <div class="file-select">
                <select id="fileSelect" class="file-dropdown">
                    <option value="">Choose a file...</option>
                    <option value="file1.csv">dataset1.csv</option>
                    <option value="file2.csv">dataset2.csv</option>
                    <option value="file3.csv">sales_data.csv</option>
                    <option value="file4.csv">customer_analysis.csv</option>
                </select>
            </div>
            <div class="variables-list">
                <div id="variablesList" class="variables-container">
                    <div class="variables-title">Available Variables</div>
                    <!-- Variables will be populated here -->
                </div>
            </div>
        </div>

        <!-- Scatter Plot Panel -->
        <div class="scatter-plot-panel">
            <div class="scatter-plot-title">Scatter Plot</div>
            <div id="scatterPlotContainer">
                <!-- Scatter plot will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Model Structure -->
    <div class="model-structure-container">
        <!-- Variable Specification Panel -->
        <div class="variable-spec-panel">
            <div class="variable-spec-title">Variable Specification</div>
            <div class="variable-spec-content">
                <!-- Left Column -->
                <div class="variable-spec-left">
                    <div class="dependent-var-section">
                        <div class="section-title">Dependent Variable</div>
                        <div class="variable-select-container">
                            <select class="form-select">
                                <option value="" hidden></option>
                            </select>
                        </div>
                    </div>

                    <!-- Intercept Checkbox -->
                    <div class="intercept-checkbox">
                        <input type="checkbox" id="intercept" />
                        <label for="intercept">Intercept</label>
                    </div>

                    <!-- Random Slopes Section -->
                    <div class="random-slopes">
                        <div class="section-title">Random Slopes</div>
                        <select class="form-select random-slopes-select">
                            <option value="" hidden>Select variables...</option>
                        </select>
                        <div class="selected-slopes-display">
                            <!-- Selected random slopes will be displayed here -->
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="variable-spec-right">
                    <div class="effects-container">
                        <div class="main-effects-section">
                            <div class="section-title">Main Effects</div>
                            <div class="variable-select-container">
                                <select class="form-select">
                                    <option value="" hidden></option>
                                </select>
                            </div>
                            <div class="selected-effects-display">
                                <!-- Selected main effects will be displayed here -->
                            </div>
                        </div>

                        <div class="interaction-section">
                            <div class="section-title">Interaction</div>
                            <div class="interaction-grid">
                                <select class="form-select interaction-select">
                                    <option value="" hidden></option>
                                </select>
                                <div class="interaction-operator">Ã—</div>
                                <select class="form-select interaction-select">
                                    <option value="" hidden></option>
                                </select>
                                <button class="secondary-btn add-interaction">Add</button>
                            </div>
                            <div class="interactions-list">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Options Panel -->
        <div class="advanced-options-panel">
            <div class="advanced-options-title">Advanced Options</div>
            <div class="advanced-options-content">
                <div class="option-group">
                    <label>Covariance Structure</label>
                    <select id="covStructure" class="form-select">
                        <option value="unstructured">Unstructured</option>
                        <option value="diagonal">Diagonal</option>
                        <option value="compound">Compound Symmetry</option>
                    </select>
                </div>
                <div class="option-group">
                    <label>Estimation Method</label>
                    <select id="estimationMethod" class="form-select">
                        <option value="reml">REML</option>
                        <option value="ml">Maximum Likelihood</option>
                        <option value="mcmc">MCMC</option>
                    </select>
                </div>
                <div class="option-group">
                    <label>Technical Settings</label>
                    <div class="technical-params">
                        <div>
                            <label>Max Iterations</label>
                            <input type="number" id="maxIter" value="100" class="form-select">
                        </div>
                        <div>
                            <label>Convergence Tolerance</label>
                            <input type="number" id="convTol" value="0.0001" class="form-select">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button id="runModel" class="run-model-btn">
            <i class="fas fa-play"></i> Run Model
        </button>
    </div>

    <!-- Results Section -->
    <div class="results-container">
        <!-- Model Results Panel -->
        <div class="model-results-panel">
            <div class="model-results-title">Model Results</div>
            <div class="results-tabs">
                <button class="tab-btn active" data-tab="summary">Summary</button>
                <button class="tab-btn" data-tab="coefficients">Coefficients</button>
                <button class="tab-btn" data-tab="diagnostics">Diagnostics</button>
            </div>
            <div id="resultsContent" class="results-content">
                <!-- Results will be populated here -->
            </div>
        </div>
        
        <!-- Results Visualization Panel -->
        <div class="results-visual-panel">
            <div class="results-visual-title">Results Visualization</div>
            <div class="viz-tabs">
                <button class="tab-btn active" data-tab="fittedLine">Fitted Line</button>
                <button class="tab-btn" data-tab="residuals">Residual Plots</button>
                <button class="tab-btn" data-tab="effects">Effects Plots</button>
            </div>
            <div id="vizContent" class="viz-content">
                <!-- Visualizations will be rendered here -->
            </div>
        </div>
    </div>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.js"></script>
    <script src="/js/regression.js"></script>
</body>
</html> 